---
title: "Categories distribution analysis"
output: html_notebook
---

First step is to load the training data and labels that are used to mark anomalies.

```{r}
data <- read.csv(file="../data/train_data.csv", header=TRUE, sep=",", row.names=NULL)
```

Then we extract categories that each row is labeled with and aggregate them.

```{r}
data_frame <- as.data.frame(table(data[42]))
colnames(data_frame) <- c("category", "count")
data_frame$anomaly <- apply(data_frame, 1, function(x) x[1] != "normal")
```

We make a bar chart out of data.

```{r}
library(ggplot2)
g <- ggplot(data_frame, aes(x=reorder(category, -count),y=count, fill=anomaly))
g + geom_bar(stat="identity") + theme(axis.text.x=element_text(angle=90)) + scale_y_log10() 
```

The number of anomalies exceeds normal activity. This is caused by volume of DoS type attacks - the kind that produces enormous number of packets. It could be problematic to distinguish them from normal activity using autoencoders that only have knowledge about current moment. If that's the case - the proposed solution would be using recursive networks and introducing some units with memory into network structure (like LSTM's or GRU's). 